server.port=8080
spring.application.name=gateway

# Expose actuator endpoints
management.endpoints.web.exposure.include=health,info,metrics,gateway

# Eureka client
eureka.client.service-url.defaultZone=http://localhost:8761/eureka/
eureka.instance.hostname=localhost

# ==========================
# Routes via Eureka (lb://)
# ==========================
spring.cloud.gateway.routes[0].id=product-composite
spring.cloud.gateway.routes[0].uri=lb://product-composite
spring.cloud.gateway.routes[0].predicates[0]=Path=/product-composite/**

spring.cloud.gateway.routes[1].id=product
spring.cloud.gateway.routes[1].uri=lb://product-service
spring.cloud.gateway.routes[1].predicates[0]=Path=/products/**

spring.cloud.gateway.routes[2].id=review
spring.cloud.gateway.routes[2].uri=lb://review-service
spring.cloud.gateway.routes[2].predicates[0]=Path=/reviews/**

spring.cloud.gateway.routes[3].id=recommendation
spring.cloud.gateway.routes[3].uri=lb://recommendation-service
spring.cloud.gateway.routes[3].predicates[0]=Path=/recommendations/**

# ==========================
# CORS
# ==========================
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedOrigins=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedMethods=GET,POST,PUT,DELETE,OPTIONS
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowedHeaders=*
spring.cloud.gateway.globalcors.cors-configurations.[/**].allowCredentials=false
